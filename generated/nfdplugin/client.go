// Code generated by algokit-client-generator-go. DO NOT EDIT.
package nfdplugin

import (
	"context"
	"encoding/json"
	"fmt"

	"github.com/algorand/go-algorand-sdk/v2/types"
	algokit "github.com/kylebeee/algokit-utils-go"
)

// Client is a typed client for the NfdPlugin smart contract.
type Client struct {
	AppClient *algokit.AppClient
}

// NewClient creates a new typed client wrapping an existing AppClient.
func NewClient(appClient *algokit.AppClient) *Client {
	return &Client{AppClient: appClient}
}

// NewClientFromSpec creates a new typed client from AppClientParams.
func NewClientFromSpec(params algokit.AppClientParams) (*Client, error) {
	if params.AppSpec == nil {
		spec, err := GetAppSpec()
		if err != nil {
			return nil, err
		}
		params.AppSpec = spec
	}
	appClient, err := algokit.NewAppClient(params)
	if err != nil {
		return nil, err
	}
	return &Client{AppClient: appClient}, nil
}

// GetAppSpec returns the parsed ARC-56 app specification for this contract.
func GetAppSpec() (*algokit.Arc56Contract, error) {
	return algokit.ParseArc56Contract([]byte(AppSpecJSON))
}

// AppID returns the application ID.
func (c *Client) AppID() uint64 {
	return c.AppClient.AppID()
}

// AppAddress returns the application's escrow address.
func (c *Client) AppAddress() types.Address {
	return c.AppClient.AppAddress()
}

// NewGroup creates a new Composer for building atomic transaction groups.
func (c *Client) NewGroup() *Composer {
	return &Composer{
		client:   c,
		composer: c.AppClient.NewComposer(),
	}
}

// SendDeleteFields calls the deleteFields ABI method and waits for confirmation.
func (c *Client) SendDeleteFields(ctx context.Context, params algokit.CallParams[DeleteFieldsArgs]) error {
	methodArgs := argsToInterfaceDeleteFields(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "deleteFields",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendUpdateFields calls the updateFields ABI method and waits for confirmation.
func (c *Client) SendUpdateFields(ctx context.Context, params algokit.CallParams[UpdateFieldsArgs]) error {
	methodArgs := argsToInterfaceUpdateFields(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "updateFields",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendOfferForSale calls the offerForSale ABI method and waits for confirmation.
func (c *Client) SendOfferForSale(ctx context.Context, params algokit.CallParams[OfferForSaleArgs]) error {
	methodArgs := argsToInterfaceOfferForSale(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "offerForSale",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendCancelSale calls the cancelSale ABI method and waits for confirmation.
func (c *Client) SendCancelSale(ctx context.Context, params algokit.CallParams[CancelSaleArgs]) error {
	methodArgs := argsToInterfaceCancelSale(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "cancelSale",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendPostOffer calls the postOffer ABI method and waits for confirmation.
func (c *Client) SendPostOffer(ctx context.Context, params algokit.CallParams[PostOfferArgs]) error {
	methodArgs := argsToInterfacePostOffer(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "postOffer",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendPurchase calls the purchase ABI method and waits for confirmation.
func (c *Client) SendPurchase(ctx context.Context, params algokit.CallParams[PurchaseArgs]) error {
	methodArgs := argsToInterfacePurchase(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "purchase",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendUpdateHash calls the updateHash ABI method and waits for confirmation.
func (c *Client) SendUpdateHash(ctx context.Context, params algokit.CallParams[UpdateHashArgs]) error {
	methodArgs := argsToInterfaceUpdateHash(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "updateHash",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendContractLock calls the contractLock ABI method and waits for confirmation.
func (c *Client) SendContractLock(ctx context.Context, params algokit.CallParams[ContractLockArgs]) error {
	methodArgs := argsToInterfaceContractLock(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "contractLock",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendSegmentLock calls the segmentLock ABI method and waits for confirmation.
func (c *Client) SendSegmentLock(ctx context.Context, params algokit.CallParams[SegmentLockArgs]) error {
	methodArgs := argsToInterfaceSegmentLock(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "segmentLock",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendVaultOptInLock calls the vaultOptInLock ABI method and waits for confirmation.
func (c *Client) SendVaultOptInLock(ctx context.Context, params algokit.CallParams[VaultOptInLockArgs]) error {
	methodArgs := argsToInterfaceVaultOptInLock(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "vaultOptInLock",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendVaultOptIn calls the vaultOptIn ABI method and waits for confirmation.
func (c *Client) SendVaultOptIn(ctx context.Context, params algokit.CallParams[VaultOptInArgs]) error {
	methodArgs := argsToInterfaceVaultOptIn(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "vaultOptIn",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendVaultSend calls the vaultSend ABI method and waits for confirmation.
func (c *Client) SendVaultSend(ctx context.Context, params algokit.CallParams[VaultSendArgs]) error {
	methodArgs := argsToInterfaceVaultSend(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "vaultSend",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendRenew calls the renew ABI method and waits for confirmation.
func (c *Client) SendRenew(ctx context.Context, params algokit.CallParams[RenewArgs]) error {
	methodArgs := argsToInterfaceRenew(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "renew",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

// SendSetPrimaryAddress calls the setPrimaryAddress ABI method and waits for confirmation.
func (c *Client) SendSetPrimaryAddress(ctx context.Context, params algokit.CallParams[SetPrimaryAddressArgs]) error {
	methodArgs := argsToInterfaceSetPrimaryAddress(params.Args)

	result, err := c.AppClient.Send(ctx, algokit.AppCallSendParams{
		MethodName:        "setPrimaryAddress",
		MethodArgs:        methodArgs,
		Sender:            params.Sender,
		Signer:            params.Signer,
		Note:              params.Note,
		BoxReferences:     params.BoxReferences,
		AccountReferences: params.AccountReferences,
		AppReferences:     params.AppReferences,
		AssetReferences:   params.AssetReferences,
		ExtraFee:          params.ExtraFee,
		StaticFee:         params.StaticFee,
		SendParams:        params.SendParams,
	})
	if err != nil {
		return err
	}

	_ = result
	return nil
}

func argsToInterfaceCreate(args CreateArgs) []interface{} {
	return []interface{}{
		args.Registry,
	}
}

func argsToInterfaceDeleteFields(args DeleteFieldsArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.FieldNames,
	}
}

func argsToInterfaceUpdateFields(args UpdateFieldsArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.FieldAndVals,
	}
}

func argsToInterfaceOfferForSale(args OfferForSaleArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.SellAmount,
		args.ReservedFor,
	}
}

func argsToInterfaceCancelSale(args CancelSaleArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
	}
}

func argsToInterfacePostOffer(args PostOfferArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Offer,
		args.Note,
	}
}

func argsToInterfacePurchase(args PurchaseArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
	}
}

func argsToInterfaceUpdateHash(args UpdateHashArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Hash,
	}
}

func argsToInterfaceContractLock(args ContractLockArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Lock,
	}
}

func argsToInterfaceSegmentLock(args SegmentLockArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Lock,
		args.UsdPrice,
	}
}

func argsToInterfaceVaultOptInLock(args VaultOptInLockArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Lock,
	}
}

func argsToInterfaceVaultOptIn(args VaultOptInArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Assets,
	}
}

func argsToInterfaceVaultSend(args VaultSendArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Amount,
		args.Receiver,
		args.Note,
		args.Asset,
		args.OtherAssets,
	}
}

func argsToInterfaceRenew(args RenewArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.Years,
	}
}

func argsToInterfaceSetPrimaryAddress(args SetPrimaryAddressArgs) []interface{} {
	return []interface{}{
		args.Wallet,
		args.RekeyBack,
		args.AppID,
		args.FieldName,
		args.Address,
	}
}

// Unmarshal helper for JSON decoding
func unmarshal(data []byte, v interface{}) error {
	return json.Unmarshal(data, v)
}

// Ensure fmt is used
var _ = fmt.Sprintf
